
# Command structure for compiling 

Commands:
  - command: scp
    args:
      - quote:
        - {{ PROJECT_DIR }}\release\*
      - {{ BUILD_MACHINE_USER }}@{{ BUILD_MACHINE_IP }}:{{ BUILD_MACHINE_WORKING_DIR }}
  - command: scp
    args:
      - quote:
        - {{ PROJECT_DIR }}\src\*
      - {{ BUILD_MACHINE_USER }}@{{ BUILD_MACHINE_IP }}:{{ BUILD_MACHINE_WORKING_DIR }}
  - command: ssh
    args:
      - {{ BUILD_MACHINE_USER }}@{{ BUILD_MACHINE_IP }}
      - quote:
        - cd {{ BUILD_MACHINE_WORKING_DIR }} &&
        - make
  - command: scp
    args:
      - {{ BUILD_MACHINE_USER }}@{{ BUILD_MACHINE_IP }}:{{ BUILD_MACHINE_WORKING_DIR }}/*.ko
      - quote:
        - {{ PROJECT_DIR }}
  - command: ssh
    args:
      - {{ BUILD_MACHINE_USER }}@{{ BUILD_MACHINE_IP }}
      - quote:
        - cd {{ BUILD_MACHINE_WORKING_DIR }} &&
        - make clean
  # - command: ssh
  #   args:
  #     - {{ BUILD_MACHINE_USER }}@{{ BUILD_MACHINE_IP }}
  #     - quote:
  #       - source ~/Documents/petalinux_install/2022.1/settings.sh &&
  #       - cd ~/Documents/petalinux_projects/GPIO_Example_2/ && 
  #       - petalinux-build -c mymodule